# Flask Store

Небольшой учебный интернет-магазин на Flask с каталогом товаров, корзиной, избранным и системой заказов. Приложение использует SQLite и хранит изображения в `static/uploads`.

## Возможности
- Главная страница с баннерами, поиском и фильтрацией по категориям
- Карточки товаров с быстрым добавлением в корзину и избранное
- Личный кабинет покупателя, история заказов и визуальный трекер этапов
- Управление товарами/баннерами для продавцов и админа
- Избранное и гостевая корзина, которые переносятся после авторизации
- Хранение изображений продуктов и баннеров через встроенные формы загрузки

## Требования
- Python 3.11+
- Установленные системные зависимости для сборки пакетов Pillow (если понадобится обрабатывать изображения)

## Быстрый старт
```bash
git clone <repo-url>
cd flask-store
python -m venv .venv
.venv\Scripts\activate          # Windows
pip install -r requirements.txt
python app.py
```
Приложение запустится на `http://127.0.0.1:5000/`. При первом старте автоматически создаётся база `store.db`. Первый зарегистрировавшийся пользователь получает роль администратора.

## Переменные окружения
- `FLASK_ENV` — режим разработки (по умолчанию `development`)
- `SECRET_KEY` — замените значение `app.secret_key` в `app.py` на переменную окружения перед деплоем
- `DATABASE` — путь до файла БД, по умолчанию `store.db` в корне проекта

## Структура
```
app.py                 # Flask-приложение и маршруты
templates/             # HTML-шаблоны Jinja2
static/style.css       # Основные стили
static/uploads/        # Загрузки баннеров и товаров
requirements.txt       # Python-зависимости
store.db               # SQLite база данных (создаётся автоматически)
```

## Советы по разработке
- Перед коммитом запускайте `python app.py` и проверяйте ключевые пользовательские сценарии
- Храните медиа-файлы в `static/uploads/*`, папки создаются автоматически
- При изменении схемы БД обновите функции миграции в `init_db()`
- Для удобной работы с заказами изучите вспомогательные функции `get_order_status_timeline` и `ORDER_STATUS_FLOW`


